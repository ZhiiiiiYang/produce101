<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>With my å°å¯¶ - 2026 çµ‚æ¥µæ—…ç¨‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #fff9fa; /* æ›´æµªæ¼«çš„æ·¡ç²‰ç™½èƒŒæ™¯ */
            color: #1f2937;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }

        .hide-scroll::-webkit-scrollbar {
            display: none;
        }
        .hide-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 4px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .timeline-line {
            position: absolute;
            left: 1rem;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #fce7f3; /* æ·ºç²‰ç´…ç·šæ¢ */
            z-index: 0;
        }

        .active-tab {
            border-bottom: 3px solid #db2777; /* Pink-600 */
            color: #db2777;
            font-weight: 700;
        }

        /* --- é¦¬è³½å…‹ç‰¹æ•ˆ --- */
        .mosaic-blur {
            filter: blur(8px);
            user-select: none;
            transition: filter 0.8s ease-in-out;
            cursor: pointer;
            background-color: rgba(255, 200, 220, 0.3); /* æ¨¡ç³Šæ™‚çµ¦ä¸€é»ç²‰è‰²èƒŒæ™¯æç¤º */
            border-radius: 8px;
            padding: 4px;
        }
        
        .mosaic-blur:hover {
            /* æ»‘é¼ ç§»éå»ç¨å¾®æ¸…æ¥šä¸€é»é»ï¼Œæç¤ºå¯é»æ“Š (æ¸¬è©¦ç”¨) */
            filter: blur(4px); 
        }

        .mosaic-clear {
            filter: blur(0);
            background-color: transparent;
        }

        /* æ‚„æ‚„è©±æ°£æ³¡æ¨£å¼ */
        .love-message-box {
            position: relative;
            background: #fff0f5;
            border-left: 4px solid #db2777;
            padding: 10px 15px;
            margin-top: 8px;
            border-radius: 0 8px 8px 0;
            font-size: 0.9rem;
            color: #831843;
            font-style: italic;
        }

        /* æ¸¬è©¦æŒ‰éˆ• */
        .debug-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #db2777;
            color: white;
            padding: 10px 20px;
            border-radius: 50px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            font-size: 12px;
            z-index: 9999;
            cursor: pointer;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        .debug-btn:hover {
            opacity: 1;
        }

        /* åº•éƒ¨ä½å®¿å°ˆç”¨å€å¡Š */
        .stay-footer {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            color: white;
            padding: 20px;
            border-radius: 16px;
            margin-top: 30px;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
            border: 1px solid #334155;
        }
        
        .stay-btn {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.85rem;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        .stay-btn:hover {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <header class="bg-white/80 backdrop-blur-md sticky top-0 z-50 border-b border-pink-100">
        <div class="container mx-auto px-4 py-4">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="text-center md:text-left mb-4 md:mb-0">
                    <h1 class="text-3xl font-bold text-slate-800 tracking-tight">ğŸ»ğŸ€ğŸ± <span class="text-pink-600">With my å°å¯¶</span></h1>
                    <p class="text-sm text-slate-500 mt-1">2026/01/26 - 02/05 | æˆ‘å€‘çš„ 11 å¤© 10 å¤œå¤¢å¹»æ—…ç¨‹</p>
                </div>
                <div class="flex space-x-3 text-sm">
                    <div class="bg-pink-50 px-4 py-2 rounded-full border border-pink-100">
                        <span class="block text-xs text-pink-400 font-bold uppercase">å€’æ•¸è¨ˆæ™‚</span>
                        <span id="countdown" class="font-mono text-lg font-bold text-pink-600">-- å¤©</span>
                    </div>
                </div>
            </div>
            
            <nav class="flex space-x-8 mt-4 overflow-x-auto hide-scroll justify-center md:justify-start">
                <button onclick="switchTab('itinerary')" id="tab-itinerary" class="active-tab pb-2 px-3 hover:text-pink-600 transition-colors whitespace-nowrap">
                    <i class="fa-solid fa-heart mr-2"></i>æ¯æ—¥è¡Œç¨‹
                </button>
                <button onclick="switchTab('logistics')" id="tab-logistics" class="pb-2 px-3 text-slate-400 hover:text-pink-600 transition-colors whitespace-nowrap">
                    <i class="fa-solid fa-suitcase mr-2"></i>ä½å®¿äº¤é€š
                </button>
            </nav>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-4 py-6 max-w-5xl">

        <section id="view-itinerary" class="space-y-6">
            
            <div class="flex space-x-3 overflow-x-auto hide-scroll pb-4" id="day-selector">
                </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2 space-y-6">
                    <div id="day-header" class="glass-card p-6 rounded-2xl border-l-8 border-pink-500 relative overflow-hidden">
                        <div class="relative z-10">
                            <h3 id="day-title" class="text-3xl font-bold text-slate-800">Day 1</h3>
                            <p id="day-theme" class="text-pink-600 font-medium mt-1 text-lg">ä¸»é¡Œ</p>
                        </div>
                        <div class="absolute right-0 top-0 opacity-10 text-9xl text-pink-500 -mr-4 -mt-4">
                            <i class="fa-solid fa-heart"></i>
                        </div>
                    </div>

                    <div class="glass-card p-6 rounded-2xl min-h-[500px]">
                        <div id="timeline-container" class="relative pl-4 space-y-8 pb-8">
                            </div>

                        <div id="stay-footer-container"></div>
                    </div>
                </div>

                <div class="space-y-6">
                    <div class="glass-card p-6 rounded-2xl bg-gradient-to-br from-pink-50 to-white">
                        <h4 class="font-bold text-slate-700 mb-4 flex items-center">
                            <i class="fa-solid fa-lightbulb text-yellow-400 mr-2 text-xl"></i>çµ¦å°å¯¶çš„æé†’
                        </h4>
                        <p id="day-tip" class="text-sm text-slate-600 leading-relaxed">--</p>
                    </div>

                    <div class="glass-card p-6 rounded-2xl">
                        <h4 class="font-bold text-slate-700 mb-3"><i class="fa-solid fa-ticket mr-2 text-pink-400"></i>é‡è¦æ†‘è­‰</h4>
                        <ul id="day-tickets" class="space-y-3 text-sm text-slate-600"></ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="view-logistics" class="hidden space-y-8">
            <h2 class="text-2xl font-bold text-slate-800 mb-4">ä½å®¿æ¸…å–®</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div id="accommodation-list" class="contents"></div>
            </div>
        </section>

    </main>

    <button onclick="revealAllSecrets()" class="debug-btn">
        <i class="fa-solid fa-wand-magic-sparkles mr-2"></i>[æ¸¬è©¦] è§£é™¤æ‰€æœ‰é¦¬è³½å…‹
    </button>

    <script>
        // --- 1. è³‡æ–™åº«è¨­å®š ---
        const tripStartDate = new Date('2026-01-26T00:00:00');
        
        // ä½å®¿è³‡æ–™åº« (ç”¨æ–¼åº•éƒ¨è‰²å¡Š)
        const staysDB = {
            "busan_airbnb": {
                name: "æµ·é›²å° Airbnb",
                address: "29 Haeundaehaebyeon-ro 298beon-gil, Haeundae-gu",
                address_local: "ë¶€ì‚° í•´ìš´ëŒ€êµ¬ í•´ìš´ëŒ€í•´ë³€ë¡œ298ë²ˆê¸¸ 29 Aë™",
                type: "korea" // ç”¨æ–¼åˆ¤æ–·åœ°åœ–é¡å‹
            },
            "busan_twotone": {
                name: "Twotone House",
                address: "970-10 Choryang-dong, Dong-gu",
                address_local: "ë¶€ì‚° ë™êµ¬ ì´ˆëŸ‰ë™ 970-10",
                type: "korea"
            },
            "ship": {
                name: "æ–°å±±èŒ¶èŠ±è™Ÿ (èˆ¹ä¸Š)",
                address: "Busan Port International Passenger Terminal",
                address_local: "ë¶€ì‚° ë™êµ¬ ì¶©ì¥ëŒ€ë¡œ 206",
                type: "korea"
            },
            "fukuoka_lfg": {
                name: "LFg710",
                address: "Minami-Fukuoka Station Area",
                address_local: "å—ç¦å²¡é§…å‘¨è¾º (è«‹åƒé–±å…¥ä½æŒ‡å—)",
                type: "japan"
            },
            "yufuin_waya": {
                name: "ç”±å¸ƒé™¢ å’Œå®¶ (Waya)",
                address: "1777-1 Yufuincho Kawakami, Yufu",
                address_local: "å¤§åˆ†çœŒç”±å¸ƒå¸‚æ¹¯å¸ƒé™¢ç”ºå·ä¸Š1777-1",
                type: "japan"
            },
            "fukuoka_comfort": {
                name: "Comfort Cube Phoenix Yakuin",
                address: "Omiya-1 Chome-6, Chuo Ward",
                address_local: "ç¦å²¡å¸‚ä¸­å¤®åŒºå¤§å®® 1-6",
                type: "japan"
            },
            "saga_tapstay": {
                name: "Tapstay Hotel",
                address: "1 Chome-13-17 Ekimae Chuo",
                address_local: "ä½è³€çœŒä½è³€å¸‚é§…å‰ä¸­å¤®1ä¸ç›®13-17",
                type: "japan"
            }
        };

        const itineraryData = [
            {
                day: 1,
                date: "1/26 (ä¸€)",
                location: "é‡œå±± (æµ·é›²å°)",
                theme: "ç´…çœ¼ç­æ©Ÿç”Ÿå­˜ & æµ·é›²å°æµªæ¼«",
                stayKey: "busan_airbnb", // å°æ‡‰ staysDB çš„ Key
                tip: "Sanrio Lovers Club å·²æ­‡æ¥­ï¼Œæ”¹å»æµ·é‚Šæ•£æ­¥ã€‚å·²å–æ¶ˆéŠè‰‡ï¼Œæ”¹å» The Bay 101ã€‚",
                tickets: ["é‡œå±± Pass (å•Ÿç”¨)"],
                timeline: [
                    { time: "06:10", type: "transport", title: "æŠµé”é‡œå±±æ©Ÿå ´", desc: "æ­è¨ˆç¨‹è»Šå»æµ·é›²å°", 
                      message: "å¯¶è²æˆ‘å€‘çµ‚æ–¼åˆ°é‡œå±±äº†ï¼é›–ç„¶æ˜¯ç´…çœ¼ç­æ©Ÿæœ‰é»ç´¯ï¼Œä½†çœ‹åˆ°å¦³èˆˆå¥®çš„æ¨£å­æˆ‘å°±é†’äº†ï½æˆ‘å€‘å…ˆå»æ”¾è¡Œæå§ï¼" },
                    { time: "08:00", type: "activity", title: "Airbnb å¯„æ”¾è¡Œæ", desc: "å…ˆä¸ŸåŒ…è¡Œæï¼Œåœ°å€åœ¨ä¸‹æ–¹", 
                      message: "é€™é–“ Airbnb é›¢æµ·é‚Šè¶…è¿‘çš„ï¼Œç­‰ä¸‹æ”¾å®Œè¡Œææˆ‘å€‘å°±å¯ä»¥å…©æ‰‹ç©ºç©ºå»åƒå¥½æ–™çš„ï¼" },
                    { time: "08:30", type: "food", title: "éŒ¦ç¹¡æ²³è±šæ¹¯", desc: "æ—©é¤æš–èƒƒ", 
                      message: "è½èªªé€™å®¶çš„æ¹¯é ­è¶…é®®ç”œï¼Œå‰›ä¸‹é£›æ©Ÿå–é€™å€‹æœ€èˆ’æœäº†ï¼Œå¹«å¦³è£œè£œèº«é«”ï½" },
                    { time: "09:30", type: "activity", title: "æµ·æ™¯å’–å•¡ / æµ·é‚Šæ•£æ­¥", desc: "è¼•é¬†ä¸€é»", 
                      message: "é›–ç„¶ Sanrio åº—é—œäº†æœ‰é»å¯æƒœï¼Œä½†èƒ½ç‰½è‘—å¦³çš„æ‰‹åœ¨æµ·é‚Šæ•£æ­¥ï¼Œå°æˆ‘ä¾†èªªæ›´æµªæ¼«ï¼" },
                    { time: "11:30", type: "food", title: "åš´æ³³ç™½è±¬è‚‰æ¹¯é£¯", desc: "æµ·é›²å°åº—åˆé¤", 
                      message: "é€™å®¶æ˜¯é‡œå±±å¿…åƒï¼çŸ¥é“å¦³å–œæ­¡åƒè‚‰è‚‰ï¼Œç‰¹åœ°é¸äº†é€™å®¶æœ‰åçš„åº—ï¼Œè¦åƒé£½é£½å–”ã€‚" },
                    { time: "13:00", type: "activity", title: "ğŸ”´ Spa Land æ±—è’¸å¹•", desc: "ã€Passå•Ÿç”¨ã€‘è£œçœ ã€æ´—æ¾¡", 
                      message: "çµ‚æ–¼å¯ä»¥èººå¹³äº†ï¼æˆ‘å€‘å»åŒ…å€‹ç¾Šè§’é ­ï¼Œç„¶å¾Œæˆ‘è¦æŠ±è‘—å¦³ç¡å€‹åˆè¦ºï¼Œå……é£½é›»æ™šä¸Šå†æˆ°ï¼" },
                    { time: "17:30", type: "activity", title: "Airbnb Check-in", desc: "å›æˆ¿æ¢³æ´—", 
                      message: "å›æˆ¿é–“ç¨å¾®æ•´ç†ä¸€ä¸‹ï¼ŒæœŸå¾…æ™šä¸Šè·Ÿå¦³ä¸€èµ·çœ‹å¤œæ™¯ï¼Œå¦³ä»Šå¤©ä¸€å®šå¾ˆç¾ã€‚" },
                    { time: "18:30", type: "activity", title: "ğŸŸ¢ Busan X the Sky", desc: "ã€Passå…è²»ã€‘100æ¨“å¤œæ™¯", 
                      message: "å¸¶å¦³å»æœ€é«˜çš„æ˜Ÿå·´å…‹å–å’–å•¡ï¼å¾100æ¨“çœ‹ä¸‹å»ï¼Œæ•´å€‹é‡œå±±éƒ½åœ¨æˆ‘å€‘è…³ä¸‹ï¼Œå°±åƒæˆ‘å€‘æœªä¾†çš„è·¯ä¸€æ¨£å¯¬å»£ã€‚" },
                    { time: "20:00", type: "activity", title: "The Bay 101", desc: "çœ‹æ‘©å¤©æ¨“å€’å½±", 
                      message: "é€™è£¡çš„å¤œæ™¯è¶…åƒé¦™æ¸¯çš„ï¼Œå¹«å¦³æ‹å¹¾å¼µç¶²ç¾ç…§ï¼Œå¦³æ˜¯ç•«é¢è£¡æœ€äº®çœ¼çš„ä¸»è§’ï¼" }
                ]
            },
            {
                day: 2,
                date: "1/27 (äºŒ)",
                location: "é‡œå±± (æ±é‡œå±± -> å—æµ¦)",
                theme: "æ±é‡œå±±æµ·å²¸ & é‡œå±±å¡”",
                stayKey: "busan_twotone",
                tip: "æ™šä¸Šå‹•ç·šå„ªåŒ–ï¼šç›´æ¥å›å—æµ¦/é‡œå±±ç«™æ™šé¤ï¼Œä¸æŠ˜è¿”å»£å®‰é‡Œã€‚",
                tickets: ["é‡œå±± Pass", "è† å›Šåˆ—è»Šé ç´„ (09:30)"],
                timeline: [
                    { time: "09:00", type: "activity", title: "é€€æˆ¿ & å¯„è¡Œæ", desc: "è¡Œæç•™ Airbnb", 
                      message: "é›–ç„¶è¦æ›é£¯åº—æœ‰é»éº»ç…©ï¼Œä½†ç‚ºäº†è®“è¡Œç¨‹æ›´é †ï¼Œè¾›è‹¦å¯¶è²äº†ï¼æˆ‘å€‘è¼•è£å‡ºç™¼å»æ­å¯æ„›çš„å°ç«è»Šï¼" },
                    { time: "09:30", type: "transport", title: "å¤©ç©ºè† å›Šåˆ—è»Š", desc: "å°¾æµ¦ -> é’æ²™æµ¦ (è‡ªè²»)", 
                      message: "é€™æ˜¯å°ˆå±¬æˆ‘å€‘å…©å€‹äººçš„å°åŒ…å»‚å–”ï¼çœ‹è‘—æµ·æ™¯ï¼Œåªæœ‰æˆ‘å€‘å…©å€‹äººï¼Œå¯ä»¥ç›¡æƒ…åœ°è¦ªè¦ªäº†ï¼ˆç¾ï¼‰ã€‚" },
                    { time: "11:30", type: "transport", title: "ğŸŸ¢ æµ·æ¿±åˆ—è»Š", desc: "é’æ²™æµ¦ -> æ¾äº­ç«™", 
                      message: "é€™æ®µç«è»Šæ²¿è‘—æµ·å²¸ç·šè·‘ï¼Œé¢¨æ™¯è¶…å¥½çš„ï¼Œè¨˜å¾—è¦éŒ„å½±ç™¼é™å‹•å–”ï¼" },
                    { time: "12:00", type: "food", title: "Coralani æµ·æ™¯å’–å•¡", desc: "æ©Ÿå¼µæµ·æ™¯", 
                      message: "é€™å®¶å’–å•¡å»³è¶…å¤§è¶…ç¾ï¼Œæˆ‘å€‘å¯ä»¥æ‰¾å€‹æ‡¶éª¨é ­èººè‘—çœ‹æµ·ï¼Œäº«å—ä¸€ä¸‹æ‚ é–’çš„åˆå¾Œã€‚" },
                    { time: "13:30", type: "activity", title: "ğŸŸ¢ Skyline Luge æ»‘è»Š", desc: "å«çºœè»Š+æ»‘è»Š2æ¬¡", 
                      message: "ä¾†æ¯”æ¯”çœ‹èª°æ»‘å¾—æ¯”è¼ƒå¿«ï¼è¼¸çš„äººæ™šä¸Šè¦å¹«å°æ–¹æŒ‰æ‘©å–”ï¼Œå˜¿å˜¿ï¼" },
                    { time: "15:30", type: "transport", title: "å› Airbnb æ‹¿è¡Œæ", desc: "è¨ˆç¨‹è»Š", 
                      message: "é€™æ™‚å€™ç¨å¾®æœ‰é»ç´¯äº†ï¼Œæˆ‘å€‘æ­è¨ˆç¨‹è»Šå›å»æ‹¿è¡Œæï¼Œå¦³å¯ä»¥åœ¨è»Šä¸Šé è‘—æˆ‘ä¼‘æ¯ä¸€ä¸‹ã€‚",
                      link: "busan_airbnb" }, /* ç‰¹æ®Šæ¨™è¨˜ï¼šéœ€è¦é€£çµ */
                    { time: "16:00", type: "transport", title: "ç§»å‹• -> è‰æ¢", desc: "å‰å¾€ä¸‹ä¸€ç«™", 
                      message: "é›–ç„¶è¦ç§»å‹•ï¼Œä½†æƒ³è‘—æ™šä¸Šæœ‰å¥½åƒçš„æ™šé¤ï¼Œå°±æœ‰å‹•åŠ›äº†ï¼" },
                    { time: "17:00", type: "activity", title: "Twotone å…¥ä½", desc: "Check-in", 
                      message: "é€™é–“æ°‘å®¿é›¢è»Šç«™å¾ˆè¿‘ï¼Œä¹‹å¾Œè¦å»æ­èˆ¹å°±å¾ˆæ–¹ä¾¿äº†ã€‚å…ˆæ”¾è¡Œæä¼‘æ¯ä¸€ä¸‹å§ã€‚" },
                    { time: "18:30", type: "food", title: "å—æµ¦/æœ­å˜å…¶æ™šé¤", desc: "æµ·é®®å¤§é¤", 
                      message: "å¸¶å¦³å»åƒæœ€æ–°é®®çš„æµ·é®®ï¼çœ‹å¦³åƒå¾—é–‹å¿ƒçš„æ¨£å­ï¼Œæˆ‘å°±è¦ºå¾—å¥½å¹¸ç¦ã€‚" },
                    { time: "20:30", type: "activity", title: "ğŸŸ¢ é‡œå±±å¡”", desc: "ã€Passå…è²»ã€‘å—æµ¦æ´çœ‹å¤œæ™¯", 
                      message: "ä»Šå¤©çš„æœ€å¾Œä¸€ç«™ï¼Œåœ¨é‡œå±±å¡”ä¸Šè¨±å€‹é¡˜ï¼Œå¸Œæœ›ä»¥å¾Œæ¯ä¸€å¹´éƒ½èƒ½å¸¶å¦³å‡ºä¾†ç©ã€‚" }
                ]
            },
            {
                day: 3,
                date: "1/28 (ä¸‰)",
                location: "é‡œå±± (æ¾å³¶/ç”˜å·)",
                theme: "Pass è¡åˆº & æ‰‹ç¿»æ›¸",
                stayKey: "busan_twotone",
                tip: "Pass 12:59 å¤±æ•ˆã€‚æŠµé”ç”˜å·è«‹ã€Œå…ˆè¡æ‰‹ç¿»æ›¸ã€ï¼",
                tickets: ["é‡œå±± Pass (æœ€å¾Œä¸€åˆ·)"],
                timeline: [
                    { time: "09:00", type: "activity", title: "ğŸŸ¢ æ¾å³¶æµ·ä¸Šçºœè»Š", desc: "ã€Passå…è²»ã€‘ç¬¬ä¸€æ‰¹å…¥å ´", 
                      message: "æ—©å®‰å¯¶è²ï¼ä»Šå¤©è¦å»æ­æ°´æ™¶çºœè»Šï¼Œè…³åº•ä¸‹æ˜¯é€æ˜çš„å–”ï¼Œå¦‚æœå¦³æ€•çš„è©±å°±æŠ“ç·Šæˆ‘çš„æ‰‹ï¼" },
                    { time: "10:30", type: "transport", title: "ç§»å‹• -> ç”˜å·æ´", desc: "å²©å—å…¬åœ’å«è»Š", 
                      message: "æ¥ä¸‹ä¾†è¦å»å½©è‰²æˆ¿å­çš„åœ°æ–¹äº†ï¼Œæˆ‘å€‘è¦è¶•å¿«å»ï¼Œå› ç‚ºæˆ‘è¦é€å¦³ä¸€å€‹ç‰¹åˆ¥çš„ç¦®ç‰©ã€‚" },
                    { time: "11:00", type: "activity", title: "ğŸŸ¢ Flipbook æ‰‹ç¿»æ›¸", desc: "ã€å„ªå…ˆã€‘è¶•åœ¨å¤±æ•ˆå‰å…ˆæ›ç¥¨", 
                      message: "æˆ‘å€‘ä¾†åšä¸€æœ¬å±¬æ–¼æˆ‘å€‘çš„å‹•æ…‹æ‰‹ç¿»æ›¸ï¼æŠŠæˆ‘å€‘çš„ç”œèœœå‹•ä½œè¨˜éŒ„ä¸‹ä¾†ï¼Œé€™æ˜¯ä¸€è¼©å­çš„å›æ†¶ã€‚" },
                    { time: "12:00", type: "activity", title: "ç”˜å·æ´æ–‡åŒ–æ‘", desc: "è·Ÿå°ç‹å­æ‹ç…§", 
                      message: "å¦³å°±æ˜¯æˆ‘çš„å°ç‹ç‹¸ï¼ˆä¹Ÿæ˜¯å°ç‹å­å•¦ï¼‰ï¼Œæˆ‘è¦å¹«å¦³è·Ÿé‚£å€‹çœ‹é¢¨æ™¯çš„å°ç‹å­æ‹å¾ˆå¤šç¾ç…§ã€‚" },
                    { time: "14:00", type: "activity", title: "ç™½æ·ºç˜æ–‡åŒ–æ‘", desc: "ä¸‹åˆæ‚ é–’è¡Œç¨‹", 
                      message: "é€™è£¡çš„ç™½è‰²åœç‰†é…ä¸Šæµ·æ™¯ï¼ŒçœŸçš„è¶…åƒå¸Œè‡˜çš„ï¼æˆ‘å€‘æ‰¾é–“å’–å•¡å»³åä¸‹ä¾†èŠèŠå¤©å§ã€‚" },
                    { time: "19:00", type: "food", title: "è¥¿é¢çƒ¤ç‰›æ’", desc: "æ™šé¤ & åœ°ä¸‹è¡—é€›è¡—", 
                      message: "æ™šä¸Šå¸¶å¦³å»è¥¿é¢é€›è¡—è²·è¡£æœï¼ŒæŠŠå¦³æ‰“æ‰®å¾—æ¼‚æ¼‚äº®äº®çš„ï¼Œç„¶å¾Œå†åƒé “å¥½åƒçš„çƒ¤è‚‰ï¼" }
                ]
            },
            {
                day: 4,
                date: "1/29 (å››)",
                location: "é‡œå±± -> æ—¥æœ¬",
                theme: "å‘Šåˆ¥é‡œå±±ï¼Œæµ·ä¸Šæ¢éšª",
                stayKey: "ship",
                tip: "17:00 å‰æŠµé”ç¢¼é ­è¼ƒä¿éšª (æœ€å¾Œå ±åˆ° 18:30)ã€‚",
                tickets: ["èˆ¹ç¥¨"],
                timeline: [
                    { time: "11:00", type: "activity", title: "é€€æˆ¿ & å¯„æ”¾è¡Œæ", desc: "é‡œå±±è»Šç«™", 
                      message: "è¦é›¢é–‹é‡œå±±äº†ï¼Œæœ‰é»æ¨ä¸å¾—ï¼Œä½†æƒ³åˆ°æ˜å¤©å°±åœ¨æ—¥æœ¬é†’ä¾†ï¼Œå°±è¦ºå¾—å¥½é…·ï¼" },
                    { time: "13:00", type: "activity", title: "æ¨‚å¤©è¶…å¸‚", desc: "æœ€å¾Œæ¡è²·", 
                      message: "å»è²·é»é›¶é£Ÿåœ¨èˆ¹ä¸Šåƒï¼Œå¦³æƒ³åƒä»€éº¼éƒ½è²·ï¼Œæˆ‘è² è²¬æï¼" },
                    { time: "16:30", type: "transport", title: "å‰å¾€ç¢¼é ­", desc: "æº–å‚™ç™»èˆ¹", 
                      message: "æˆ‘å€‘å»æ­å¤§èˆ¹å›‰ï¼é€™æ˜¯æˆ‘å€‘ç¬¬ä¸€æ¬¡ä¸€èµ·æ­è·¨åœ‹æ¸¡è¼ªï¼Œå¥½åƒéµé”å°¼è™Ÿï¼ˆä½†çµå±€æ˜¯å¥½çš„ XDï¼‰ã€‚" },
                    { time: "18:30", type: "activity", title: "è¾¦ç†ç™»èˆ¹", desc: "Check-in", 
                      message: "é€šé—œå¾Œæˆ‘å€‘å°±å»æˆ¿é–“æ¢éšªï¼Œé›–ç„¶æ˜¯ä¸Šä¸‹èˆ–ï¼Œä½†åœ¨æµ·ä¸Šéå¤œçœŸçš„è¶…ç‰¹åˆ¥çš„ã€‚" },
                    { time: "20:00", type: "transport", title: "é–‹èˆ¹", desc: "å‰å¾€ç¦å²¡", 
                      message: "èˆ¹é–‹äº†ï¼æˆ‘å€‘å»ç”²æ¿ä¸Šå¹å¹é¢¨ï¼Œè·Ÿé‡œå±±çš„å¤œæ™¯èªªå†è¦‹ï¼Œæ˜å¤©è¦‹å›‰ï¼Œæ—¥æœ¬ï¼" }
                ]
            },
            {
                day: 5,
                date: "1/30 (äº”)",
                location: "ç¦å²¡",
                theme: "æ—©å®‰ç¦å²¡ï¼Œåˆæ¬¡è¦‹é¢",
                stayKey: "fukuoka_lfg",
                tip: "è¡Œæå‹™å¿…å¯„æ”¾åšå¤šç«™ï¼",
                tickets: [],
                timeline: [
                    { time: "07:30", type: "transport", title: "æŠµé”åšå¤šæ¸¯", desc: "å…¥å¢ƒ", 
                      message: "æ—©å®‰ï¼çœé–‹çœ¼æˆ‘å€‘å°±åœ¨æ—¥æœ¬äº†ï¼Œç©ºæ°£èèµ·ä¾†éƒ½ä¸ä¸€æ¨£äº†è€¶ï¼" },
                    { time: "09:00", type: "activity", title: "è¡Œæå¯„æ”¾åšå¤šç«™", desc: "æ°‘å®¿ä¸èƒ½å¯„", 
                      message: "æŠŠå¤§è¡Œæè§£æ±ºæ‰ï¼Œæˆ‘å€‘å°±å¯ä»¥è¼•é¬†é€›ç¦å²¡äº†ã€‚åšå¤šç«™çœŸçš„è¶…å¤§è¶…å¥½é€›çš„ï¼" },
                    { time: "10:00", type: "activity", title: "å¤§æ¿ å…¬åœ’ / è”¦å±‹æ›¸åº—", desc: "æ–‡é’æ•£ç­–", 
                      message: "å¸¶å¦³å»æ—¥æœ¬æœ€ç¾çš„æ›¸åº—ä¹‹ä¸€ï¼Œé‚„æœ‰å¤§å…¬åœ’ï¼Œæˆ‘å€‘å¯ä»¥æ‚ é–’åœ°æ•£æ­¥ï¼Œäº«å—æ—¥æœ¬çš„å¯§éœã€‚" },
                    { time: "16:00", type: "transport", title: "å–è¡Œæ -> å—ç¦å²¡", desc: "æ­ JR å…¥ä½", 
                      message: "ç©äº†ä¸€å¤©ï¼Œæˆ‘å€‘å…ˆå»æ°‘å®¿ä¼‘æ¯ä¸€ä¸‹ã€‚æ—¥æœ¬çš„é›»è»ŠçœŸçš„å¥½æº–æ™‚å–”ã€‚" },
                    { time: "19:00", type: "food", title: "åšå¤šé‹æ²³åŸ", desc: "æ™šé¤", 
                      message: "æ™šä¸Šå»çœ‹æ°´èˆç§€ï¼è½èªªåšå¤šçš„ç‰›è…¸é‹å¾ˆæœ‰åï¼Œä¸€å®šè¦å¸¶å¦³åšåšçœ‹ï¼Œè£œå……è† åŸè›‹ç™½ï¼" }
                ]
            },
            {
                day: 6,
                date: "1/31 (å…­)",
                location: "ç¦å²¡",
                theme: "SMTOWN & ä¸‰éº—é·—",
                stayKey: "fukuoka_lfg",
                tip: "Sanrio Dreaming Park æ”¹ä»Šå¤©ä¸Šåˆå»ï¼(å°±åœ¨å·¨è›‹æ—)",
                tickets: ["æ¼”å”±æœƒé–€ç¥¨"],
                timeline: [
                    { time: "10:00", type: "activity", title: "Sanrio Dreaming Park", desc: "BOSS Eãƒ»ZO 7F", 
                      message: "å¯¶è²ï¼ï¼é€™æ˜¯å¦³æœ€æœŸå¾…çš„ä¸‰éº—é·—ï¼é›–ç„¶æ˜¯å®¤å…§çš„ï¼Œä½†è¶…å¯æ„›ï¼Œæˆ‘è¦å¹«å¦³è·Ÿæ‰€æœ‰è§’è‰²æ‹ç…§ï¼" },
                    { time: "12:00", type: "food", title: "åˆé¤", desc: "BOSS Eãƒ»ZO å•†å ´å…§", 
                      message: "åƒé£½é£½æ‰æœ‰åŠ›æ°£ä¸‹åˆçœ‹æ­å·´å€‘è¡¨æ¼”ï¼" },
                    { time: "14:00", type: "activity", title: "PayPay Dome", desc: "æ­¥è¡Œè‡³å·¨è›‹", 
                      message: "çµ‚æ–¼ä¾†åˆ°é€™ä¸€å¤©äº†ï¼SMTOWNï¼æˆ‘çŸ¥é“å¦³æœŸå¾…å¾ˆä¹…äº†ï¼Œä»Šå¤©å¦³å°±ç›¡æƒ…å°–å«å§ï¼Œæˆ‘è² è²¬å¹«å¦³æ‹¿æ‰‹ç‡ˆï¼" },
                    { time: "17:00", type: "activity", title: "âœ¨ SMTOWN LIVE", desc: "æ¼”å”±æœƒé–‹å§‹", 
                      message: "çœ‹è‘—å¦³çœ‹æ¼”å”±æœƒæ™‚ç™¼å…‰çš„çœ¼ç¥ï¼Œæˆ‘è¦ºå¾—æ¯”èˆå°ä¸Šçš„æ˜æ˜Ÿé‚„è¿·äººã€‚ï¼ˆä½†æˆ‘é‚„æ˜¯æœƒè®“å¦³å°ˆå¿ƒçœ‹æ­å·´çš„XDï¼‰" },
                    { time: "21:00", type: "food", title: "æ…¶åŠŸå®´", desc: "å±…é…’å±‹", 
                      message: "æ¼”å”±æœƒçµæŸä¸€å®šå¾ˆå—¨ä¹Ÿå¾ˆé¤“ï¼Œæˆ‘å€‘å»å±…é…’å±‹å–ä¸€æ¯ï¼Œè½å¦³åˆ†äº«å‰›å‰›æœ‰å¤šæ¿€å‹•ï¼" }
                ]
            },
            {
                day: 7,
                date: "2/1 (æ—¥)",
                location: "ç”±å¸ƒé™¢",
                theme: "è§€å…‰åˆ—è»Š & æº«æ³‰",
                stayKey: "yufuin_waya",
                tip: "10:11 ç™¼è»Šï¼Œåˆ¥é²åˆ°ï¼",
                tickets: ["ç”±å¸ƒé™¢ä¹‹æ£® 3è™Ÿ"],
                timeline: [
                    { time: "08:30", type: "transport", title: "åšå¤šç«™", desc: "è²·ä¾¿ç•¶", 
                      message: "ä»Šå¤©è¦æ­é‚£å°ç¶ è‰²çš„å¾©å¤ç«è»Šå–”ï¼æˆ‘å€‘å»è²·å¥½åƒçš„ç«è»Šä¾¿ç•¶åœ¨è»Šä¸Šåƒã€‚" },
                    { time: "10:11", type: "transport", title: "ç”±å¸ƒé™¢ä¹‹æ£®", desc: "4è™Ÿè»Š 7CD", 
                      message: "ç«è»Šé¢¨æ™¯è¶…ç¾çš„ï¼Œè€Œä¸”æˆ‘å€‘ååœ¨ä¸€èµ·ã€‚é€™è¶Ÿæ—…ç¨‹æœ‰å¦³åœ¨èº«é‚ŠçœŸå¥½ã€‚" },
                    { time: "12:27", type: "transport", title: "æŠµé”ç”±å¸ƒé™¢", desc: "é€›æ¹¯ä¹‹åª", 
                      message: "é€™è£¡å°±æ˜¯ç«¥è©±ä¸–ç•Œå§ï¼æˆ‘å€‘è¦å»åƒé‡‘è³å¯æ¨‚é¤…ï¼Œé‚„è¦å» Snoopy èŒ¶å±‹çœ‹å¦³æ„›çš„ Snoopyï¼" },
                    { time: "15:00", type: "activity", title: "å…¥ä½ Waya", desc: "æ³¡æº«æ³‰", 
                      message: "ä»Šæ™šæ˜¯é‡é ­æˆ²ï¼ç§äººæº«æ³‰ï¼æˆ‘å€‘å¯ä»¥ä¸€èµ·æ³¡æ¹¯ï¼Œçœ‹è‘—æ˜Ÿæ˜Ÿï¼Œé€™æ˜¯æˆ‘èƒ½æƒ³åˆ°æœ€æµªæ¼«çš„äº‹äº†ã€‚" }
                ]
            },
            {
                day: 8,
                date: "2/2 (ä¸€)",
                location: "å¤§åˆ† -> ç¦å²¡",
                theme: "Harmonyland (å–®æ¨‚åœ’)",
                stayKey: "fukuoka_comfort",
                tip: "ä»Šæ—¥å°ˆæ³¨ Harmonylandï¼Œæ™šä¸Šå›ç¦å²¡åƒç¾é£Ÿã€‚",
                tickets: ["Harmonyland é–€ç¥¨", "Sonic éŸ³é€Ÿè™Ÿ"],
                timeline: [
                    { time: "08:30", type: "activity", title: "é€€æˆ¿ & å‡ºç™¼", desc: "é›¢é–‹ç”±å¸ƒé™¢", 
                      message: "æ³¡å®Œæº«æ³‰çš®è†šè®Šè¶…å¥½è€¶ï¼ä»Šå¤©è¦ç¹¼çºŒå»åœ“å¦³çš„å°‘å¥³å¤¢å›‰ï¼" },
                    { time: "09:30", type: "transport", title: "å‰å¾€ Harmonyland", desc: "è¨ˆç¨‹è»Šç›´é”", 
                      message: "ç‚ºäº†è®“å¦³å¤šç©ä¸€é»ï¼Œæˆ‘å€‘ç›´æ¥æ­è¨ˆç¨‹è»Šå»ï¼ä¸æƒ³è®“å¦³è½‰è»Šå¤ªç´¯ã€‚" },
                    { time: "10:20", type: "activity", title: "ğŸ€ Harmonyland", desc: "æˆ¶å¤–æ¨‚åœ’", 
                      message: "é€™è£¡æ˜¯ Hello Kitty çš„åŸå ¡è€¶ï¼çœ‹å¦³é–‹å¿ƒå¾—åƒå€‹å°å­©ï¼Œæˆ‘ä¹Ÿè¦ºå¾—å¥½é–‹å¿ƒã€‚æˆ‘å€‘å»æ­æ‘©å¤©è¼ªå§ï¼" },
                    { time: "15:00", type: "transport", title: "å‰å¾€ JR è»Šç«™", desc: "æº–å‚™å›ç¨‹", 
                      message: "ç©äº†ä¸€æ•´å¤©è¾›è‹¦äº†ï¼Œç­‰ç­‰ä¸Šç«è»Šå°±å¯ä»¥ç¡è¦ºäº†ï¼Œæˆ‘çš„è‚©è†€å€Ÿå¦³é ã€‚" },
                    { time: "16:00", type: "transport", title: "Sonic éŸ³é€Ÿè™Ÿ", desc: "å›åšå¤š", 
                      message: "å’»ä¸€ä¸‹å°±å›åˆ°ç¦å²¡äº†ï¼Œæ™šä¸Šå¸¶å¦³å»åƒå¥½åƒçš„ç‡’é³¥ï¼Œæ…°å‹ä¸€ä¸‹ä»Šå¤©çš„é‹å‹•é‡ã€‚" },
                    { time: "18:30", type: "activity", title: "Comfort Cube å…¥ä½", desc: "è—¥é™¢", 
                      message: "é€™é–“æ–°é£¯åº—åœ¨è—¥é™¢ï¼Œé™„è¿‘æœ‰å¾ˆå¤šç‰¹è‰²å°åº—ï¼Œæ„Ÿè¦ºå¦³æœƒå–œæ­¡é€™è£¡çš„æ°›åœã€‚" }
                ]
            },
            {
                day: 9,
                date: "2/3 (äºŒ)",
                location: "ç³¸å³¶",
                theme: "ç³¸å³¶çµ•æ™¯",
                stayKey: "fukuoka_comfort",
                tip: "å»ºè­°åªé¸ 2 å€‹é‡é»æ”¾é¬†ç©ã€‚",
                tickets: [],
                timeline: [
                    { time: "10:00", type: "activity", title: "å‰å¾€ç³¸å³¶", desc: "æ«»äº•äºŒè¦‹æµ¦", 
                      message: "ä»Šå¤©å»çœ‹æµ·ï¼é‚£å€‹ç™½è‰²çš„é³¥å±…å’Œå¤«å©¦å²©è¶…æœ‰åçš„ï¼Œè±¡å¾µæˆ‘å€‘æœƒä¸€ç›´æ©æ©æ„›æ„›å–”ï¼" },
                    { time: "13:00", type: "activity", title: "æµ·é‚Šé¦éŸ†", desc: "æ¤°å­æ¨¹é¦éŸ†", 
                      message: "å¹«å¦³åœ¨é¦éŸ†ä¸Šæ‹é‚£ç¨®é£„é€¸çš„ç¾ç…§ï¼ŒèƒŒæ™¯æ˜¯å¤§æµ·ï¼Œä¸€å®šè¶…ä»™çš„ï¼" },
                    { time: "18:00", type: "food", title: "è—¥é™¢ç‡’è‚‰", desc: "æ™šé¤", 
                      message: "æ™šä¸Šåƒç‡’è‚‰ï¼è½è‘—è‚‰æ»‹æ»‹ä½œéŸ¿çš„è²éŸ³ï¼Œé…ä¸Šå•¤é…’ï¼Œäººç”Ÿäº«å—å•Šï½" }
                ]
            },
            {
                day: 10,
                date: "2/4 (ä¸‰)",
                location: "ä½è³€",
                theme: "ä½è³€ç‰› & åœ–æ›¸é¤¨",
                stayKey: "saga_tapstay",
                tip: "æ™šé¤é ç´„å­£æ¨‚ï¼Œé€™æ˜¯æœ€å¾Œçš„å¤§é¤ï¼",
                tickets: ["JR è»Šç¥¨", "å­£æ¨‚é ç´„"],
                timeline: [
                    { time: "11:00", type: "transport", title: "ç§»å‹• -> ä½è³€", desc: "JR ç‰¹æ€¥", 
                      message: "æ—…ç¨‹å¿«çµæŸäº†ï¼Œä»Šå¤©å»ä½è³€æ…¢æ´»ä¸€ä¸‹ã€‚ä¸ç”¨è¶•è¡Œç¨‹ï¼Œæ…¢æ…¢ä¾†å°±å¥½ã€‚" },
                    { time: "15:00", type: "activity", title: "Tapstay å…¥ä½", desc: "Check-in", 
                      message: "é£¯åº—å°±åœ¨è»Šç«™æ—ï¼Œè¶…æ–¹ä¾¿ã€‚æ”¾å®Œè¡Œææˆ‘å€‘å»æœ€ç¾çš„åœ–æ›¸é¤¨ç•¶æ–‡é’ã€‚" },
                    { time: "16:00", type: "activity", title: "æ­¦é›„å¸‚åœ–æ›¸é¤¨", desc: "æœ€ç¾æ›¸åº—", 
                      message: "é€™è£¡çœŸçš„å¥½ç¾å¥½å£¯è§€ï¼Œé›–ç„¶çœ‹ä¸æ‡‚æ—¥æ–‡æ›¸ï¼Œä½†åœ¨é€™è£¡æ„Ÿå—æ°£æ°›ä¹Ÿå¾ˆæ£’ã€‚" },
                    { time: "19:00", type: "food", title: "å­£æ¨‚ ä½è³€ç‰›", desc: "é ‚ç´šå’Œç‰›", 
                      message: "æœ€å¾Œçš„æ™šé¤ï¼ä½è³€ç‰›å…¥å£å³åŒ–ï¼Œå°±åƒæˆ‘å°å¦³çš„æ„›ä¸€æ¨£èåŒ–åœ¨å¦³å¿ƒè£¡ï¼ˆæœ‰é»è‚‰éº»XDï¼Œä½†çœŸçš„å¾ˆå¥½åƒå•¦ï¼‰ã€‚" }
                ]
            },
            {
                day: 11,
                date: "2/5 (å››)",
                location: "ä½è³€ -> å°ç£",
                theme: "ç”œèœœè¿”å®¶",
                stayKey: "saga_tapstay",
                tip: "âš ï¸ å‹™å¿…ä¾ 1 æœˆæœ€æ–°å…¬å‘Šæ™‚åˆ»è¡¨æ­è»Šï¼",
                tickets: ["æ©Ÿå ´å·´å£«", "æ©Ÿç¥¨"],
                timeline: [
                    { time: "09:30", type: "activity", title: "å‰å¾€å·´å£«ä¸­å¿ƒ", desc: "æº–å‚™å»æ©Ÿå ´", 
                      message: "è¦å›å®¶äº†ï½é›–ç„¶ä¸æƒ³çµæŸï¼Œä½†é€™æ¬¡çš„å›æ†¶å¤ æˆ‘å€‘å›å‘³å¾ˆä¹…å¾ˆä¹…äº†ã€‚" },
                    { time: "10:00", type: "transport", title: "æ©Ÿå ´åˆ©æœ¨æ´¥å·´å£«", desc: "å‰å¾€æ©Ÿå ´", 
                      message: "åœ¨è»Šä¸Šå†çœ‹ä¸€çœ¼æ—¥æœ¬çš„é¢¨æ™¯å§ï¼Œä¸‹æ¬¡æˆ‘å€‘ä¸€å®šé‚„è¦å†ä¾†ï¼" },
                    { time: "10:45", type: "activity", title: "æŠµé”æ©Ÿå ´", desc: "æœ€å¾Œä¼´æ‰‹ç¦®", 
                      message: "è²·é»å¥½åƒçš„å›å»åˆ†çµ¦æœ‹å‹ï¼Œé †ä¾¿æŠŠå‰©ä¸‹çš„æ—¥å¹£èŠ±å…‰å…‰ï¼" },
                    { time: "12:15", type: "transport", title: "âœˆï¸ IT247 èµ·é£›", desc: "Bye Bye!", 
                      message: "è¬è¬å¦³é™ªæˆ‘é€™ 11 å¤©ï¼Œå› ç‚ºæœ‰å¦³ï¼Œé€™è¶Ÿæ—…ç¨‹æ‰é€™éº¼å®Œç¾ã€‚æˆ‘æ„›å¦³ï¼Œå°å¯¶ï¼" }
                ]
            }
        ];

        // --- 2. æ¸²æŸ“é‚è¼¯ ---

        function renderDaySelector() {
            const container = document.getElementById('day-selector');
            container.innerHTML = itineraryData.map((day, index) => `
                <button onclick="renderDay(${index})" 
                    class="day-btn min-w-[80px] p-3 rounded-xl border border-pink-100 bg-white hover:bg-pink-50 hover:shadow-md transition flex flex-col items-center justify-center snap-center ${index === 0 ? 'ring-2 ring-pink-500 bg-pink-50' : ''}"
                    data-day="${index}">
                    <span class="text-xs text-pink-400 uppercase font-bold">Day ${day.day}</span>
                    <span class="text-sm font-bold text-slate-700 whitespace-nowrap">${day.date.split(' ')[0]}</span>
                </button>
            `).join('');
        }

        function renderDay(index) {
            const data = itineraryData[index];
            
            // Update Header
            document.getElementById('day-title').textContent = `Day ${data.day}: ${data.date}`;
            document.getElementById('day-theme').textContent = data.theme;
            
            // Update Tip & Tickets
            document.getElementById('day-tip').textContent = data.tip;
            document.getElementById('day-tickets').innerHTML = data.tickets.length > 0 
                ? data.tickets.map(t => `<li class="flex items-center"><i class="fa-solid fa-check-circle text-green-400 mr-2"></i>${t}</li>`).join('')
                : '<li class="text-slate-400 italic">ç„¡ç‰¹æ®Šæ†‘è­‰éœ€æ±‚</li>';

            // Render Timeline
            renderTimelineItems(data.timeline);

            // Render Stay Footer
            renderStayFooter(data.stayKey);

            // Update Buttons State
            document.querySelectorAll('.day-btn').forEach((btn, idx) => {
                if (idx === index) {
                    btn.classList.add('ring-2', 'ring-pink-500', 'bg-pink-50');
                } else {
                    btn.classList.remove('ring-2', 'ring-pink-500', 'bg-pink-50');
                }
            });
        }

        function renderTimelineItems(timeline) {
            const container = document.getElementById('timeline-container');
            container.innerHTML = '<div class="timeline-line"></div>' + timeline.map(item => {
                let icon, colorClass, bgClass;
                
                switch(item.type) {
                    case 'transport': icon = 'fa-van-shuttle'; colorClass = 'text-blue-500'; bgClass = 'bg-blue-50 border-blue-100'; break;
                    case 'food': icon = 'fa-utensils'; colorClass = 'text-orange-500'; bgClass = 'bg-orange-50 border-orange-100'; break;
                    case 'activity': icon = 'fa-camera'; colorClass = 'text-pink-500'; bgClass = 'bg-pink-50 border-pink-100'; break;
                    default: icon = 'fa-circle'; colorClass = 'text-slate-500'; bgClass = 'bg-slate-50 border-slate-200';
                }

                // ç‰¹æ®Šé€£çµæŒ‰éˆ• (Day 2 å› Airbnb)
                let extraButton = "";
                if (item.link && staysDB[item.link]) {
                    const stay = staysDB[item.link];
                    extraButton = `
                        <div class="mt-2 pt-2 border-t border-slate-200/50">
                            <button onclick="copyToClipboard('${stay.address}')" class="text-xs bg-slate-700 text-white px-3 py-1 rounded-full hover:bg-slate-800 transition">
                                <i class="fa-regular fa-copy mr-1"></i>è¤‡è£½ Airbnb åœ°å€
                            </button>
                        </div>
                    `;
                }

                return `
                <div class="timeline-item relative z-10 grid grid-cols-[60px_1fr] gap-4 animate-fade-in mb-6" data-type="${item.type}">
                    <div class="text-right pt-2">
                        <span class="text-sm font-bold text-slate-500 block font-mono">${item.time}</span>
                    </div>
                    <div class="border rounded-2xl p-4 ${bgClass} shadow-sm hover:shadow-md transition bg-white/80 backdrop-blur-sm">
                        <div class="flex justify-between items-start">
                            <h4 class="font-bold text-slate-800 flex items-center text-lg">
                                <i class="fa-solid ${icon} ${colorClass} mr-3"></i>${item.title}
                            </h4>
                        </div>
                        <p class="text-sm text-slate-600 mt-1 ml-1">${item.desc}</p>
                        
                        ${extraButton}

                        <div class="love-message-box mosaic-blur" onclick="toggleBlur(this)">
                            <div class="flex items-start gap-2">
                                <i class="fa-solid fa-heart text-xs mt-1 opacity-70"></i>
                                <span>${item.message}</span>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            }).join('');
        }

        // æ¸²æŸ“åº•éƒ¨ä½å®¿å€å¡Š (Change 7)
        function renderStayFooter(stayKey) {
            const container = document.getElementById('stay-footer-container');
            if (!stayKey || !staysDB[stayKey]) {
                container.innerHTML = "";
                return;
            }

            const stay = staysDB[stayKey];
            const isKorea = stay.type === "korea";
            
            // Map URL Construction
            const mapUrl = isKorea 
                ? `https://map.naver.com/v5/search/${encodeURIComponent(stay.address)}`
                : `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(stay.address)}`;
            
            const mapName = isKorea ? "Naver Map" : "Google Map";
            const mapIcon = isKorea ? "fa-n" : "fa-google"; // FontAwesome doesn't have N icon, using N text or just map

            // Uber URL (Generic)
            const uberUrl = `https://m.uber.com/ul/?action=setPickup&dropoff[formatted_address]=${encodeURIComponent(stay.address)}`;

            container.innerHTML = `
                <div class="stay-footer">
                    <div class="mb-4 border-b border-slate-600 pb-3">
                        <h5 class="text-xs uppercase tracking-wider text-slate-400 font-bold mb-1">Night Stay</h5>
                        <h3 class="text-xl font-bold text-pink-300 flex items-center gap-2">
                            <i class="fa-solid fa-bed"></i> ${stay.name}
                        </h3>
                    </div>
                    
                    <div class="space-y-1 mb-5 text-sm text-slate-300 font-mono">
                        <p>${stay.address}</p>
                        <p class="text-slate-400 text-xs">${stay.address_local}</p>
                    </div>

                    <div class="grid grid-cols-3 gap-3">
                        <button onclick="copyToClipboard('${stay.address}')" class="stay-btn hover:bg-slate-700">
                            <i class="fa-regular fa-copy"></i> è¤‡è£½åœ°å€
                        </button>
                        <a href="${uberUrl}" target="_blank" class="stay-btn hover:bg-black">
                            <i class="fa-brands fa-uber"></i> Uber
                        </a>
                        <a href="${mapUrl}" target="_blank" class="stay-btn hover:bg-green-700">
                            <i class="fa-solid fa-map-location-dot"></i> ${mapName}
                        </a>
                    </div>
                </div>
            `;
        }

        function renderLogistics() {
            // Accommodations List View
            document.getElementById('accommodation-list').innerHTML = Object.values(staysDB).map(acc => `
                <div class="glass-card p-5 rounded-xl border-l-4 border-slate-600">
                    <h4 class="font-bold text-slate-800 text-lg mb-1">${acc.name}</h4>
                    <p class="text-sm text-slate-500 font-mono mb-2">${acc.address}</p>
                    <p class="text-xs text-slate-400 bg-slate-100 p-2 rounded">${acc.address_local}</p>
                </div>
            `).join('');
        }

        // --- 3. äº’å‹•åŠŸèƒ½ ---

        function toggleBlur(element) {
            element.classList.toggle('mosaic-blur');
            element.classList.toggle('mosaic-clear');
        }

        function removeAllMosaic() {
            document.querySelectorAll('.mosaic-blur').forEach(el => {
                el.classList.remove('mosaic-blur');
                el.classList.add('mosaic-clear');
            });
        }

        function revealAllSecrets() {
            removeAllMosaic();
            alert("âœ¨ æ‰€æœ‰æ‚„æ‚„è©±å·²è§£é–ï¼å¿«å»çœ‹çœ‹æˆ‘éƒ½èªªäº†äº›ä»€éº¼å§ï½");
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert("ğŸ“ åœ°å€å·²è¤‡è£½ï¼");
            });
        }

        function switchTab(tabId) {
            ['itinerary', 'logistics'].forEach(id => {
                const el = document.getElementById(`view-${id}`);
                const btn = document.getElementById(`tab-${id}`);
                if (id === tabId) {
                    el.classList.remove('hidden');
                    btn.classList.add('active-tab', 'text-pink-600');
                    btn.classList.remove('text-slate-400');
                } else {
                    el.classList.add('hidden');
                    btn.classList.remove('active-tab', 'text-pink-600');
                    btn.classList.add('text-slate-400');
                }
            });
        }

        function updateCountdown() {
            const now = new Date();
            const diff = tripStartDate - now;
            const days = Math.ceil(diff / (1000 * 60 * 60 * 24));
            
            const el = document.getElementById('countdown');
            if (days > 0) el.textContent = `${days} å¤©`;
            else if (days === 0) el.textContent = "ä»Šå¤©å‡ºç™¼!";
            else el.textContent = "æ—…ç¨‹é€²è¡Œä¸­";
        }

        // --- 4. åˆå§‹åŒ– ---
        window.onload = function() {
            renderDaySelector();
            renderDay(0); // Load Day 1
            renderLogistics();
            updateCountdown();
        };

    </script>
</body>
</html>
