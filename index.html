<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#FFF9FA">
    <meta name="description" content="2026 Busan & Kyushu Trip">
    <title>2026 Our Trip â¤ï¸</title>
    
    <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3063/3063822.png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- CSS Reset & Variables --- */
        :root {
            /* Sanrio Palette 2.0 */
            --color-primary: #FFB7C5; /* Melody Pink */
            --color-secondary: #89CFF0; /* Cinnamoroll Blue */
            --color-accent: #FFD700; /* Pompompurin Yellow */
            --color-danger: #FF6B6B; /* Pass Start Red */
            --color-success: #4CD964; /* Pass Free Green */
            --color-bg: #FFF9FA;
            --color-card: #FFFFFF;
            --color-text-main: #2C2C2E;
            --color-text-sub: #8E8E93;
            --color-border: #F2F2F7;
            
            --radius-lg: 24px;
            --radius-md: 16px;
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
            --nav-height: 85px;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            margin: 0; padding: 0;
            font-family: 'Noto Sans TC', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text-main);
            height: 100dvh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        #app {
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            padding: calc(var(--safe-top) + 20px) 20px calc(var(--nav-height) + 20px);
            scroll-behavior: smooth;
        }
        #app::-webkit-scrollbar { display: none; }

        /* Typography */
        h1, h2 { font-family: 'Playfair Display', serif; margin: 0; }
        .text-sm { font-size: 0.85rem; color: var(--color-text-sub); }
        .text-xs { font-size: 0.75rem; color: var(--color-text-sub); }
        .text-bold { font-weight: 700; }

        /* Components */
        .header {
            margin-bottom: 24px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }
        .header h1 { font-size: 2.2rem; background: -webkit-linear-gradient(45deg, var(--color-primary), var(--color-secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .header span { font-size: 0.9rem; color: var(--color-text-sub); font-weight: 600; letter-spacing: 1px; text-transform: uppercase; }

        .card {
            background: var(--color-card);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.04);
            transition: transform 0.2s;
            position: relative;
            border: 1px solid rgba(0,0,0,0.02);
        }
        .card:active { transform: scale(0.98); }

        /* Pass Badge */
        .pass-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            color: white;
            margin-left: 6px;
            vertical-align: middle;
        }
        .pass-start { background-color: var(--color-danger); }
        .pass-free { background-color: var(--color-success); }
        .pass-expire { background-color: var(--color-text-sub); }

        /* Timeline */
        .day-header { display: flex; align-items: center; margin-bottom: 5px; }
        .day-date { font-family: 'Playfair Display', serif; font-size: 1.5rem; font-weight: 700; width: 60px; line-height: 1; text-align: center; margin-right: 15px; color: var(--color-primary); }
        .day-date small { display: block; font-size: 0.7rem; font-family: 'Noto Sans TC'; color: var(--color-text-sub); font-weight: 400; margin-top: 4px; }
        .day-info { flex: 1; }
        .day-title { font-size: 1.1rem; font-weight: 600; margin-bottom: 2px; }
        
        .timeline-container { display: none; margin-top: 20px; padding-left: 8px; }
        .timeline-container.open { display: block; animation: slideDown 0.3s ease; }
        @keyframes slideDown { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        .event-item {
            position: relative;
            padding-left: 24px;
            padding-bottom: 24px;
            border-left: 2px solid var(--color-border);
        }
        .event-item:last-child { border-left: 2px solid transparent; }
        
        .event-dot {
            position: absolute;
            left: -6px;
            top: 0;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--color-text-sub);
            border: 2px solid white;
            box-shadow: 0 0 0 2px var(--color-border);
        }
        .dot-transport { background: #B39DDB; }
        .dot-food { background: #FFCC80; }
        .dot-sight { background: var(--color-primary); }
        .dot-stay { background: var(--color-secondary); }

        .event-time { font-size: 0.8rem; color: var(--color-primary); font-weight: 700; margin-bottom: 4px; }
        .event-name { font-size: 1rem; font-weight: 600; margin-bottom: 4px; display: flex; align-items: center; flex-wrap: wrap;}
        .event-desc { font-size: 0.9rem; color: #555; line-height: 1.5; }
        .address-box {
            background: #F8F9FA;
            padding: 8px;
            border-radius: 8px;
            margin-top: 6px;
            font-size: 0.75rem;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid #EEE;
        }
        .btn-copy { color: var(--color-secondary); cursor: pointer; padding: 4px; }

        /* Guide & Tickets */
        .ticket-card {
            background: linear-gradient(135deg, #fff, #fefefe);
            border: 1px solid var(--color-border);
            border-left: 4px solid var(--color-secondary);
        }
        .ticket-row { display: flex; justify-content: space-between; margin-bottom: 8px; font-size: 0.9rem; }
        .ticket-label { color: var(--color-text-sub); }
        .ticket-val { font-weight: 600; }

        /* Budget */
        .budget-total { text-align: center; padding: 20px; background: var(--color-primary); color: white; border-radius: var(--radius-lg); margin-bottom: 20px; box-shadow: 0 8px 16px rgba(255, 183, 197, 0.4); }

        /* Nav */
        .bottom-nav {
            position: fixed; bottom: 0; left: 0; width: 100%;
            height: calc(var(--nav-height) + var(--safe-bottom));
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
            border-top: 1px solid rgba(0,0,0,0.05);
            display: flex; justify-content: space-around;
            padding-bottom: var(--safe-bottom);
            z-index: 999;
        }
        .nav-item { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; color: #CCC; transition: 0.3s; }
        .nav-item.active { color: var(--color-primary); transform: translateY(-2px); }
        .nav-item i { font-size: 1.4rem; margin-bottom: 4px; }
        .nav-item span { font-size: 0.7rem; font-weight: 500; }

        /* Toast */
        #toast {
            position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.8); color: white; padding: 8px 16px; border-radius: 20px;
            font-size: 0.85rem; opacity: 0; transition: opacity 0.3s; pointer-events: none; z-index: 2000;
        }
    </style>
</head>
<body>

    <div id="app">
        </div>

    <div id="toast">å·²è¤‡è£½åœ°å€</div>

    <nav class="bottom-nav">
        <div class="nav-item active" onclick="switchTab('itinerary')">
            <i class="fa-solid fa-calendar-check"></i>
            <span>è¡Œç¨‹</span>
        </div>
        <div class="nav-item" onclick="switchTab('guide')">
            <i class="fa-solid fa-ticket"></i>
            <span>æ”»ç•¥</span>
        </div>
        <div class="nav-item" onclick="switchTab('budget')">
            <i class="fa-solid fa-wallet"></i>
            <span>è¨˜å¸³</span>
        </div>
    </nav>

    <script>
        // --- Data ---
        const tripDates = {
            start: "2026-01-26",
            end: "2026-02-05"
        };

        const itineraryData = [
            {
                date: "01/26", day: "Mon", fullDate: "2026-01-26",
                loc: "Busan", title: "é£›å¾€é‡œå±± & Passå•Ÿç”¨", 
                events: [
                    { time: "06:10", title: "æŠµé”é‡‘æµ·æ©Ÿå ´ (PUS)", desc: "Eastar Jet ZE984ã€‚å‡ºé—œå¾Œæ­è¨ˆç¨‹è»Š(ç´„50åˆ†, â‚©3-4è¬)", cat: "transport", dot: "transport" },
                    { time: "08:00", title: "å‰å¾€ S07 å¯„æ”¾è¡Œæ", desc: "Haeundae Prugio City Aæ£Ÿ", cat: "stay", dot: "stay", address: "ë¶€ì‚°ì‹œ í•´ìš´ëŒ€êµ¬ í•´ìš´ëŒ€í•´ë³€ë¡œ298ë²ˆê¸¸ 29, Aë™" },
                    { time: "08:30", title: "æ—©é¤ï¼šéŒ¦ç¹¡æ²³è±šæ¹¯", desc: "èµ°è·¯5åˆ†é˜ï¼Œæ¸…çˆ½æ¹¯é ­è§£é£›æ©Ÿç–²å‹", cat: "food", dot: "food", address: "ë¶€ì‚° í•´ìš´ëŒ€êµ¬ ì¤‘ë™1ë¡œ43ë²ˆê¸¸ 23" },
                    { time: "09:30", title: "æµ·æ™¯å’–å•¡ / æµ·é›²å°æ•£æ­¥", desc: "Rendezja-vous æˆ– å†¬æŸå³¶", cat: "sight", dot: "sight", address: "ë¶€ì‚° í•´ìš´ëŒ€êµ¬ ë‹¬ë§ì´ê¸¸62ë²ˆê¸¸ 23" },
                    { time: "11:30", title: "åˆé¤ï¼šåš´æ³³ç™½è±¬è‚‰æ¹¯é£¯", desc: "æµ·é›²å°åº—ï¼Œèµ°è·¯20åˆ†æˆ–å«è»Š", cat: "food", dot: "food", address: "ë¶€ì‚° í•´ìš´ëŒ€êµ¬ êµ¬ë‚¨ë¡œ24ë²ˆê¸¸ 39" },
                    { time: "13:00", title: "Spa Land æ±—è’¸å¹•", desc: "äº”æ˜Ÿç´šæ±—è’¸å¹•", cat: "sight", dot: "sight", pass: "start" },
                    { time: "17:30", title: "S07 Check-in", desc: "å›ä½å®¿ä¼‘æ¯æ•´ç†", cat: "stay", dot: "stay" },
                    { time: "18:30", title: "Busan X the Sky", desc: "100æ¨“å¤œæ™¯", cat: "sight", dot: "sight", pass: "free" }
                ]
            },
            {
                date: "01/27", day: "Tue", fullDate: "2026-01-27",
                loc: "Busan", title: "è† å›Šåˆ—è»Šèˆ‡æµ·æ¿±", 
                events: [
                    { time: "09:30", title: "å¤©ç©ºè† å›Šåˆ—è»Š", desc: "å°¾æµ¦ç«™å‡ºç™¼ (å·²é ç´„)", cat: "sight", dot: "sight", pass: "free" },
                    { time: "ä¸­åˆ", title: "é’æ²™æµ¦åˆé¤", desc: "æµ·é®®çƒ¤è²æˆ–ç¶²ç¾å’–å•¡å»³", cat: "food", dot: "food" },
                    { time: "ä¸‹åˆ", title: "æµ·æ¿±åˆ—è»Š / æ¾å³¶çºœè»Š", desc: "Pass è¡Œç¨‹è·‘é€é€", cat: "sight", dot: "sight", pass: "free" },
                    { time: "æ™šä¸Š", title: "The Bay 101", desc: "æ‘©å¤©æ¨“å€’å½±å¤œæ™¯", cat: "sight", dot: "sight" }
                ]
            },
            {
                date: "01/28", day: "Wed", fullDate: "2026-01-28",
                loc: "Busan", title: "ç”˜å·æ´ & Pass æœ€å¾Œè¡åˆº", 
                events: [
                    { time: "ä¸Šåˆ", title: "ç”˜å·æ´æ–‡åŒ–æ‘", desc: "è·Ÿå°ç‹å­æ‹ç…§ï¼Œæ›æ‰‹ç¿»æ›¸", cat: "sight", dot: "sight", pass: "free" },
                    { time: "12:59", title: "âš ï¸ Pass å¤±æ•ˆ", desc: "48å°æ™‚çµæŸ", cat: "transport", dot: "transport", pass: "expire" },
                    { time: "ä¸‹åˆ", title: "å—æµ¦æ´ / BIFFå»£å ´", desc: "é€›è¡—ã€åƒå …æœç³–é¤…", cat: "sight", dot: "sight" },
                    { time: "æ™šé¤", title: "å¯Œå¹³ç½é ­å¤œå¸‚", desc: "å„å¼éŸ“åœ‹å°åƒ", cat: "food", dot: "food" }
                ]
            },
            {
                date: "01/29", day: "Thu", fullDate: "2026-01-29",
                loc: "Busan", title: "å‘Šåˆ¥é‡œå±± & ç™»èˆ¹", 
                events: [
                    { time: "ä¸Šåˆ", title: "æœ€å¾Œæ¡è²· / æ¨‚å¤©è¶…å¸‚", desc: "æŠŠä¼´æ‰‹ç¦®è²·é½Š", cat: "sight", dot: "sight" },
                    { time: "17:00", title: "æŠµé”é‡œå±±æ¸¯ç¢¼é ­", desc: "å‹™å¿…æº–æ™‚ï¼", cat: "transport", dot: "transport", address: "ë¶€ì‚° ë™êµ¬ ì¶©ì¥ëŒ€ë¡œ 206" },
                    { time: "18:30", title: "æœ€å¾Œå ±åˆ°æˆªæ­¢", desc: "Check-in çµæŸ", cat: "transport", dot: "transport" },
                    { time: "20:00", title: "æ–°å±±èŒ¶èŠ±è™Ÿ å‡ºç™¼", desc: "å‰å¾€ç¦å²¡ï¼äº«ç”¨ç‰¹ç­‰è‰™", cat: "stay", dot: "stay" }
                ]
            },
            {
                date: "01/30", day: "Fri", fullDate: "2026-01-30",
                loc: "Fukuoka", title: "æ—©å®‰ç¦å²¡", 
                events: [
                    { time: "07:30", title: "æŠµé”åšå¤šæ¸¯", desc: "å…¥å¢ƒæ—¥æœ¬", cat: "transport", dot: "transport" },
                    { time: "ä¸Šåˆ", title: "å¤§æ¿ å…¬åœ’", desc: "æ˜Ÿå·´å…‹ã€ç¾è¡“é¤¨", cat: "sight", dot: "sight" },
                    { time: "ä¸‹åˆ", title: "å¤©ç¥/åšå¤šé€›è¡—", desc: "ä¸‰éº—é·—å•†åº—å·¡ç¦®", cat: "sight", dot: "sight" },
                    { time: "æ™šé¤", title: "åšå¤šç‰›è…¸é‹", desc: "å‰ç”°å±‹ æˆ– ã‚„ã¾ä¸­", cat: "food", dot: "food" }
                ]
            },
            {
                date: "01/31", day: "Sat", fullDate: "2026-01-31",
                loc: "Fukuoka", title: "ç¦å²¡å¸‚å€ / æ¼”å”±æœƒé å‚™?", 
                events: [
                    { time: "å…¨æ—¥", title: "å¸‚å€è‡ªç”±è¡Œ / è¿½æ˜Ÿ", desc: "æ ¹æ“š SMTOWN è¡Œç¨‹èª¿æ•´", cat: "sight", dot: "sight" },
                    { time: "æ™šä¸Š", title: "ä¸­æ´²å±‹å°", desc: "é«”é©—æ—¥æœ¬è·¯é‚Šæ”¤æ–‡åŒ–", cat: "food", dot: "food" }
                ]
            },
            {
                date: "02/01", day: "Sun", fullDate: "2026-02-01",
                loc: "Yufuin", title: "ç”±å¸ƒé™¢ä¹‹æ£®", 
                events: [
                    { time: "10:11", title: "åšå¤šç«™å‡ºç™¼", desc: "ç”±å¸ƒé™¢ä¹‹æ£® 3è™Ÿ (4è™Ÿè»Š 7ç•ªCD)", cat: "transport", dot: "transport" },
                    { time: "12:27", title: "æŠµé”ç”±å¸ƒé™¢", desc: "å¯„æ”¾è¡Œæ", cat: "transport", dot: "transport" },
                    { time: "ä¸‹åˆ", title: "æ¹¯ä¹‹åªè¡—é“", desc: "å²åŠªæ¯”èŒ¶å±‹ã€èŠ±å‰æ‘", cat: "sight", dot: "sight" },
                    { time: "ä½å®¿", title: "ç”±å¸ƒé™¢æº«æ³‰æ—…é¤¨", desc: "ä¸€æ³ŠäºŒé£Ÿ", cat: "stay", dot: "stay" }
                ]
            },
            {
                date: "02/02", day: "Mon", fullDate: "2026-02-02",
                loc: "Fukuoka", title: "é‡‘é±—æ¹–æ™¨éœ§", 
                events: [
                    { time: "07:00", title: "é‡‘é±—æ¹–", desc: "å¤¢å¹»æ™¨éœ§", cat: "sight", dot: "sight" },
                    { time: "ä¸­åˆ", title: "è¿”å›åšå¤š", desc: "æ­ä¹˜ JR", cat: "transport", dot: "transport" },
                    { time: "ä¸‹åˆ", title: "LaLaport ç¦å²¡", desc: "çœ‹é‹¼å½ˆ", cat: "sight", dot: "sight" }
                ]
            },
            {
                date: "02/03", day: "Tue", fullDate: "2026-02-03",
                loc: "Saga", title: "ç§»å‹•è‡³ä½è³€", 
                events: [
                    { time: "ä¸Šåˆ", title: "å¤ªå®°åºœå¤©æ»¿å®®", desc: "åƒæ¢…æé¤…", cat: "sight", dot: "sight" },
                    { time: "ä¸‹åˆ", title: "å‰å¾€ä½è³€", desc: "JR ç‰¹æ€¥", cat: "transport", dot: "transport" },
                    { time: "æ™šé¤", title: "ä½è³€ç‰›é¤å»³ å­£æ¨‚", desc: "å…¥å£å³åŒ–", cat: "food", dot: "food" }
                ]
            },
            {
                date: "02/04", day: "Wed", fullDate: "2026-02-04",
                loc: "Saga", title: "æ­¦é›„åœ–æ›¸é¤¨", 
                events: [
                    { time: "ä¸Šåˆ", title: "æ­¦é›„å¸‚åœ–æ›¸é¤¨", desc: "æœ€ç¾åœ–æ›¸é¤¨", cat: "sight", dot: "sight" },
                    { time: "åˆé¤", title: "ä½è³€ç‰›ä¾¿ç•¶", desc: "æ­¦é›„æº«æ³‰ç«™ Kairoå ‚", cat: "food", dot: "food" },
                    { time: "ä¸‹åˆ", title: "å¾¡èˆ¹å±±æ¨‚åœ’", desc: "teamLab", cat: "sight", dot: "sight" }
                ]
            },
            {
                date: "02/05", day: "Thu", fullDate: "2026-02-05",
                loc: "Home", title: "ç”œèœœè¿”å®¶", 
                events: [
                    { time: "ä¸Šåˆ", title: "å‰å¾€ä½è³€æ©Ÿå ´ (HSG)", desc: "æ­ä¹˜æ©Ÿå ´å·´å£«", cat: "transport", dot: "transport" },
                    { time: "12:15", title: "è™èˆª IT247 èµ·é£›", desc: "å†è¦‹ä¹å·", cat: "transport", dot: "transport" },
                    { time: "13:45", title: "æŠµé”æ¡ƒåœ’ (TPE)", desc: "æ—…ç¨‹çµæŸ", cat: "stay", dot: "stay" }
                ]
            }
        ];

        // --- Functions ---
        const app = document.getElementById('app');

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const toast = document.getElementById('toast');
                toast.style.opacity = '1';
                setTimeout(() => toast.style.opacity = '0', 2000);
            });
        }

        function renderItinerary() {
            let html = `
                <div class="header">
                    <div>
                        <span>Jan 26 - Feb 05</span>
                        <h1>Our Trip 2026</h1>
                    </div>
                    <div style="text-align:right">
                        <span style="font-size:2rem;">ğŸ‡°ğŸ‡· ğŸ›³ï¸ ğŸ‡¯ğŸ‡µ</span>
                    </div>
                </div>
            `;

            itineraryData.forEach((day, index) => {
                const isToday = false; // Logic for real date can be added
                html += `
                <div class="card" onclick="toggleTimeline(${index})">
                    <div class="day-header">
                        <div class="day-date">
                            ${day.date}
                            <small>${day.day}</small>
                        </div>
                        <div class="day-info">
                            <div class="day-title">${day.title}</div>
                            <div class="text-sm"><i class="fa-solid fa-location-dot" style="color:var(--color-primary)"></i> ${day.loc}</div>
                        </div>
                        <i id="icon-${index}" class="fa-solid fa-chevron-down" style="color: #ccc; transition: 0.3s"></i>
                    </div>
                    
                    <div id="timeline-${index}" class="timeline-container ${index === 0 ? 'open' : ''}">
                        ${day.events.map(e => `
                            <div class="event-item">
                                <div class="event-dot dot-${e.dot}"></div>
                                <div class="event-time">${e.time}
                                    ${e.pass === 'start' ? '<span class="pass-badge pass-start">Pass å•Ÿç”¨</span>' : ''}
                                    ${e.pass === 'free' ? '<span class="pass-badge pass-free">Pass å…è²»</span>' : ''}
                                    ${e.pass === 'expire' ? '<span class="pass-badge pass-expire">Pass å¤±æ•ˆ</span>' : ''}
                                </div>
                                <div class="event-name">${e.title}</div>
                                <div class="event-desc">${e.desc}</div>
                                ${e.address ? `
                                    <div class="address-box">
                                        <span>${e.address}</span>
                                        <i class="fa-regular fa-copy btn-copy" onclick="event.stopPropagation(); copyToClipboard('${e.address}')"></i>
                                    </div>
                                ` : ''}
                            </div>
                        `).join('')}
                    </div>
                </div>
                `;
            });
            html += '<div style="height: 50px"></div>';
            return html;
        }

        function renderGuide() {
            return `
                <div class="header">
                    <div>
                        <span>INFO & TICKETS</span>
                        <h1>Guide</h1>
                    </div>
                </div>

                <h3 style="margin-bottom:10px">âœˆï¸ èˆªç­è³‡è¨Š</h3>
                <div class="card ticket-card">
                    <div class="ticket-row">
                        <span class="ticket-label">å»ç¨‹ (1/26)</span>
                        <span class="ticket-val">ZE984</span>
                    </div>
                    <div class="ticket-row">
                        <span>TPE 02:50</span>
                        <span><i class="fa-solid fa-arrow-right"></i></span>
                        <span>PUS 06:10</span>
                    </div>
                    <hr style="border:0; border-top:1px dashed #eee; margin:10px 0;">
                    <div class="ticket-row">
                        <span class="ticket-label">å›ç¨‹ (2/05)</span>
                        <span class="ticket-val">IT247</span>
                    </div>
                    <div class="ticket-row">
                        <span>HSG 12:15</span>
                        <span><i class="fa-solid fa-arrow-right"></i></span>
                        <span>TPE 13:45</span>
                    </div>
                </div>

                <h3 style="margin-bottom:10px">ğŸ›³ï¸ æ–°å±±èŒ¶èŠ±è™Ÿ</h3>
                <div class="card ticket-card" style="border-left-color: var(--color-primary)">
                    <div class="ticket-row">
                        <span class="ticket-label">æ—¥æœŸ</span>
                        <span class="ticket-val">1/29 (å››)</span>
                    </div>
                    <div class="ticket-row">
                        <span class="ticket-label">æˆ¿å‹</span>
                        <span class="ticket-val">ç‰¹ç­‰è‰™é›™åºŠ</span>
                    </div>
                    <div class="ticket-row" style="color: var(--color-danger); font-weight:bold">
                        <span class="ticket-label" style="color:inherit">æœ€å¾Œå ±åˆ°</span>
                        <span>18:30 (17:00æŠµé”)</span>
                    </div>
                </div>

                <h3 style="margin-bottom:10px">ğŸš† é—œéµäº¤é€š</h3>
                <div class="card ticket-card" style="border-left-color: #4CD964">
                    <div style="font-weight:bold; margin-bottom:5px">ç”±å¸ƒé™¢ä¹‹æ£® 3è™Ÿ</div>
                    <div class="ticket-row">
                        <span class="ticket-label">æ™‚é–“</span>
                        <span class="ticket-val">2/01 10:11 ç™¼</span>
                    </div>
                    <div class="ticket-row">
                        <span class="ticket-label">åº§ä½</span>
                        <span class="ticket-val">4è™Ÿè»Š 7ç•ª CD</span>
                    </div>
                </div>

                <h3 style="margin-bottom:10px">ğŸŸï¸ Busan Pass æ”»ç•¥</h3>
                <div class="card">
                    <ul style="padding-left:20px; margin:0; line-height:1.6; font-size:0.9rem; color:#555">
                        <li><strong>å•Ÿç”¨ï¼š</strong> 1/26 13:00 @ Spa Land</li>
                        <li><strong>å¤±æ•ˆï¼š</strong> 1/28 12:59</li>
                        <li><strong>å¿…ç©ï¼š</strong> å¤©ç©ºè† å›Š (éœ€é ç´„)ã€æµ·å²¸åˆ—è»Šã€X the Skyã€æ¾å³¶çºœè»Šã€æ»‘è»Šã€‚</li>
                    </ul>
                </div>
                <div style="height: 50px"></div>
            `;
        }

        function renderBudget() {
            const savedData = JSON.parse(localStorage.getItem('budgetData_2026')) || [];
            const total = savedData.reduce((sum, item) => sum + parseInt(item.amount), 0);

            return `
                <div class="header">
                    <div>
                        <span>WALLET</span>
                        <h1>Budget</h1>
                    </div>
                </div>

                <div class="budget-total">
                    <div style="font-size:0.8rem; opacity:0.8">Total Expenses</div>
                    <div style="font-size:2.5rem; font-weight:700; font-family:'Playfair Display'">
                        ${total.toLocaleString()}
                    </div>
                </div>

                <div class="card">
                    <div style="display:flex; gap:10px; margin-bottom:15px">
                        <input type="text" id="b-desc" placeholder="é …ç›®" style="flex:1; padding:10px; border:1px solid #eee; border-radius:8px;">
                        <input type="number" id="b-amount" placeholder="é‡‘é¡" style="width:80px; padding:10px; border:1px solid #eee; border-radius:8px;">
                    </div>
                    <button onclick="addBudget()" style="width:100%; background:var(--color-primary); color:white; border:none; padding:12px; border-radius:12px; font-weight:bold; font-size:1rem;">è¨˜ä¸€ç­†</button>
                </div>

                <div class="card">
                    <h3 style="margin-bottom:15px">æ¶ˆè²»æ˜ç´°</h3>
                    ${savedData.length === 0 ? '<div class="text-sm" style="text-align:center; padding:20px">å°šç„¡è³‡æ–™</div>' : ''}
                    ${savedData.map((item, i) => `
                        <div style="display:flex; justify-content:space-between; padding:10px 0; border-bottom:1px solid #f5f5f5">
                            <div>
                                <div style="font-weight:600">${item.desc}</div>
                                <div class="text-xs">${item.date}</div>
                            </div>
                            <div style="display:flex; align-items:center; gap:10px">
                                <span style="font-weight:bold">${parseInt(item.amount).toLocaleString()}</span>
                                <i class="fa-solid fa-trash" style="color:#ff6b6b; cursor:pointer" onclick="deleteBudget(${i})"></i>
                            </div>
                        </div>
                    `).join('')}
                </div>
                <div style="height: 50px"></div>
            `;
        }

        // Logic
        function switchTab(tab) {
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const idx = ['itinerary', 'guide', 'budget'].indexOf(tab);
            document.querySelectorAll('.nav-item')[idx].classList.add('active');
            
            window.scrollTo(0, 0);
            if (tab === 'itinerary') app.innerHTML = renderItinerary();
            if (tab === 'guide') app.innerHTML = renderGuide();
            if (tab === 'budget') app.innerHTML = renderBudget();
        }

        function toggleTimeline(index) {
            const el = document.getElementById(`timeline-${index}`);
            const icon = document.getElementById(`icon-${index}`);
            if (el.classList.contains('open')) {
                el.classList.remove('open');
                icon.style.transform = 'rotate(0deg)';
            } else {
                el.classList.add('open');
                icon.style.transform = 'rotate(180deg)';
            }
        }

        function addBudget() {
            const desc = document.getElementById('b-desc').value;
            const amount = document.getElementById('b-amount').value;
            if (!desc || !amount) return;
            
            const data = JSON.parse(localStorage.getItem('budgetData_2026')) || [];
            data.unshift({ desc, amount, date: new Date().toLocaleDateString() });
            localStorage.setItem('budgetData_2026', JSON.stringify(data));
            app.innerHTML = renderBudget();
        }

        function deleteBudget(index) {
            if(!confirm('åˆªé™¤æ­¤ç­†è³‡æ–™ï¼Ÿ')) return;
            const data = JSON.parse(localStorage.getItem('budgetData_2026')) || [];
            data.splice(index, 1);
            localStorage.setItem('budgetData_2026', JSON.stringify(data));
            app.innerHTML = renderBudget();
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            app.innerHTML = renderItinerary();
        });

    </script>
</body>
</html>
